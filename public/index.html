<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Omni Mood</title>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script src="http://marak.com/faker.js/js/faker.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <script type="text/javascript" src="js/omniMood.js"></script>
    <script type="text/javascript" src="js/controllers.js"></script>
    <script type="text/javascript" src="js/factories.js"></script>
    <!--<script type="text/javascript" src="js/directives/mapDirective.js"></script>-->
    <script type="text/javascript" src="js/directives/directivesPing.js"></script>
    <script type="text/javascript" src="js/directives/globeDirective.js"></script>
    <script type="text/javascript" src="js/directives/legendDirective.js"></script>
    <script type="text/javascript" src="js/directives/timeDirective.js"></script>
    <script type="text/javascript" src="js/directives/emojiCloud.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Bungee+Inline" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

  <body ng-app="omniMood">
    <div class="mainContainer" ng-controller="toggleViewController">
      <div class="sideBar">
        <div>
          <div class='title'>
            Omni
          </div>
          <div class='title2'>
            M
            <img src="emojis/1f602.png">
            <img src="emojis/1f620.png">
            d
          </div>
        </div>
        <button class="viewButton" ng-click="toggleView()">{{ toggleText }}</button>
        <button class="timelineButton" ng-click="toggleMap()">{{ toggleTime }}</button>
        <div class="selectCountryContainer"></div>
        <legend></legend>
      </div>
      <div class="mapContainer" ng-controller="tweetController">
        <div ng-show="show" id="flat-map">
          <whateveryouwant  tweet="tweet"></whateveryouwant>
        </div>

        <div ng-show="showTwo">
          <globe tweet="tweet"></globe>
        </div>

        <div ng-show="time">
          <killerqueen></killerqueen>
          <div id='timeDisplay'></div>
          <input type="range" id ='timeRange' min ='0' max ='9'><input>
        </div>

      </div>
      <div class="rightSideBar">
        <div id="emojiListContainer">
          <h2>Emoji List</h2>
          <div ng-controller="tweetController">
            <div ng-repeat="emoji in Emojis" class="emojiContainer tooltip">
              <img class="emojiImage tooltip hoverBig" ng-src="emojis/{{emoji.emojiMetrics.code.toLowerCase()}}.png" id="{{emoji.emojiMetrics.code.toLowerCase()}}" ng-click="showCountPercent($event)" onload="addAnimation(this.className)" />
            <!-- <cloud tweet="tweet"></cloud> -->
            <!-- <span class="tooltiptext">
              <span class="tooltipTitle">
                {{ emoji.emojiMetrics.name }}
              </span>
              <span class="tooltipCount">
                Count:
                {{ emoji.emojiMetrics.count }}
              </span>
              <span class="tooltipPercent">
              Percent:
              {{ emoji.emojiMetrics.percentage * 100 | number:0 }}%
              </span>
            </span> -->
          </div>
          <div class="emojiCountPercent">
            <div id="emojiName">
              Click an emoji to see stats!
            </div>
            Count:
            <span id="emojiCount">
              0
            </span>
            <span>
              (
            </span>
            <span id="emojiPercent">
              0
            </span>
            )%
          </div>

          <!-- <div ng-repeat="tweet in Tweets" class="tweet">
            {{tweet}}
          </div> -->
        </div>
      </div>
      <br>
      <div class="barGraph"></div>
      </div>
      </div>
    <script type="text/javascript" src="/js/newBarGraph.js"></script>
    <script type="text/javascript">
      function addAnimation(className) {
        var animations = ["bounce", "flash", "pulse", "rubberBand", "shake", "headShake", "swing", "tada", "wobble", "jello"];

        var emojiImages = document.getElementsByClassName(className);

        var index = Math.floor(Math.random() * 10);

        for(var i = 0; i < emojiImages.length; i++) {
          emojiImages[i].classList.add("animated", animations[index], "animationSettings");
        }
      }
    </script>

    <script type="text/javascript">

    </script>
  </body>
</html>